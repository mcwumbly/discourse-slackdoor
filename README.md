# DEPRECATION NOTICE

This plugin is now deprecated.

There is no plan to maintain or enhance it.

---

As of August 17, 2019, it still works but with limitations.  

In particular:

1. It doesn't unfurl messages that don't _start_ with the link (this was always the case).
2. It does not really do what one would expect in threads; the message is "unfurled" in the main channel.

In addition, outgoing webhooks are no longer recommended by Slack. They recommend creating a Slack App for this kind of integration now.

You may find this plugin useful as is, despite these limitations, but doing so comes with the above limitations and the risks that come with using software that is no longer maintained.

It is unclear whether there is any existing alternative to this plugin, so there is likely an opportunity for someone else to make something that solves this problem in a better way.

---

# Discourse Slackdoor

The `discourse-slackdoor` plugin allows Slack to unfurl links to your private Discourse instance.

Usage:

When you post a message that **starts with** a link to a post or a topic in your private Discourse instance, a bot will post a message that contains the unfurled content as a reply.

Setup:

1. Configure an [outgoing webhook](https://api.slack.com/outgoing-webhooks) on your Slack instance.
2. Install and configure the `discourse-slackdoor` plugin.

## Configure an Outgoing Webhook in Slack

Set the following values for your outgoing webhook:

- Channels: All
- Trigger Word(s): `<https://forum.example.com/t/`
- URL: `https://forum.example.com/slackdoor/knock`
- Token: (autogenerated, but copy value to add to your plugin settings)

You can also choose a name and icon for the bot's posts.

## Install and Configure Discourse-Slackdoor Plugin

1. Install the plugin using this [how to](https://meta.discourse.org/t/install-a-plugin/19157) guide.
2. Go to the Site Settings for your Discourse instance and type `slackdoor` into the filter to show the settings for the plugin.
     - enabled
     - token
     - username

The Token should be set to the value that is generated by Slack when you create the webhook.

The Username should be a user that can see topics you want to be able to share to Slack (but not topics that you *don't* want to share).

## Issues or Questions?

Please post any issues or questions in [this topic](https://meta.discourse.org/t/discourse-slackdoor-plugin/44632?u=mcwumbly).
